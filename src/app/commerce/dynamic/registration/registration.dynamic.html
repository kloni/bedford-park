<h4 id="registration_h4_3_{{id}}" *ngIf="!csr" translate>Registration.NewCustomer</h4>

<div *ngIf="registerForm.submitted && registerErrorMsg" class="alert callout" role="alert" translate id="registration_div_4_{{id}}">{{registerErrorMsg}}</div>
<form name="form2" (ngSubmit)="registerForm.form.valid && register()" #registerForm="ngForm" [ngClass]="{'show-invalid-input': registerForm.submitted}" id="registration_form_5_{{id}}">
  <fieldset class="clean-fieldset" [disabled]="disableForm">
  <label id="registration_label_6_{{id}}" translate>Registration.FirstName
    <input type="text" id="registration_input_7_{{id}}" name="firstName" maxlength="40" placeholder="First Name" [(ngModel)]="user.firstName"
      #firstName="ngModel" commerce-maxlength=128 commerce-nonwhitespace required/>
  </label>
  <label id="registration_label_8_{{id}}" translate>Registration.LastName
    <input type="text" id="registration_input_9_{{id}}" name="lastName" maxlength="40" placeholder="Last Name" [(ngModel)]="user.lastName"
      #lastName="ngModel" commerce-maxlength=128 commerce-nonwhitespace required />
  </label>
  <label id="registration_label_10_{{id}}" translate>Registration.Email
    <input type="email" id="registration_input_11_{{id}}" name="username" placeholder="name@domain.com" [(ngModel)]="user.username"
      #username="ngModel" maxlength="50" commerce-UTF8length=256 email required />
  </label>
  <label id="registration_label_14_{{id}}" translate>Registration.Phone_optional
    <input type="text" id="registration_input_15_{{id}}" name="phone1" class="form-control" placeholder="(123) 456-7890" [(ngModel)]="user.phone1"
      maxlength="32" #phone1="ngModel" commerce-maxlength=32 commerce-phonenumber />
  </label>
  <ng-container *ngIf="!csr">
    <label id="registration_label_17_{{id}}" translate>Registration.Password
      <input type="text " type="password" class="form-control" id="registration_input_18_{{id}}" name="password" [(ngModel)]="user.password"
        #password="ngModel" commerce-validateEqual="confirmPassword" required />
    </label>
    <label id="registration_label_20_{{id}}" translate>Registration.VerifyPassword
      <input type="password" id="registration_input_21_{{id}}" name="confirmPassword" [(ngModel)]="user.confirmPassword" #confirmPassword="ngModel"
        commerce-validateEqual="password" required />
    </label>
    <input type="checkbox" id="registration_input_23_{{id}}" name="receiveEmail" [(ngModel)]="user.receiveEmail" #receiveEmail="ngModel"
      checked />
    <label id="registration_label_24_{{id}}" for="registration_input_23_{{id}}" translate>Registration.ReceiveEmail</label>
    <br>
    <br>
  </ng-container>
  <ng-container *ngIf="marketingTrackingEnabled">
    <fieldset><legend translate><strong translate>Registration.MarketingConsentSectionHeading</strong></legend>
    <div id="registration_div_25_{{id}}" class="grid-x grid-padding-x switch small switch-align">
      <input class="switch-input" type="checkbox" id="registration_input_25_{{id}}" name="marketingTrackingConsent" (change)="updateMarketingTrackingConsent()" [(ngModel)]="user.marketingTrackingConsentBoolean" #marketingTrackingConsent="ngModel"
             checked />
      <label id="registration_label_251_{{id}}" class="shrink switch-paddle" for="registration_input_25_{{id}}">
        <span aria-hidden="true" class="switch-active switch-yes" [translate]="'PrivacyPolicyModal.yesLabel'"></span>
        <span aria-hidden="true" class="switch-inactive" [translate]="'PrivacyPolicyModal.noLabel'"></span>
      </label>
      <label class="auto cell yes-no-label" id="registration_label_25_{{id}}"  for="registration_input_25_{{id}}" translate>Registration.MarketingTrackingConsent</label>
    </div>
    </fieldset>
  </ng-container>
  <ng-container *ngIf="daConsentEnabled">
    <fieldset><legend translate><strong translate>Registration.AnalyticsConsentSectionHeading</strong></legend>
    <div id="registration_div_26_{{id}}" class="grid-x grid-padding-x switch small switch-align">
      <input class="switch-input" type="checkbox" id="registration_input_26_{{id}}" name="digitalAnalytics" (change)="updateAnalyticsConsent()" [(ngModel)]="user.digitalAnalytics" #digitalAnalytics="ngModel"
             checked />
      <label id="registration_label_261_{{id}}" class="shrink switch-paddle" for="registration_input_26_{{id}}">
        <span aria-hidden="true" class="switch-active switch-yes" [translate]="'PrivacyPolicyModal.yesLabel'"></span>
        <span aria-hidden="true" class="switch-inactive" [translate]="'PrivacyPolicyModal.noLabel'"></span>
      </label>
      <label class="auto cell yes-no-label" id="registration_label_26_{{id}}" for="registration_input_26_{{id}}" translate>Registration.DigitalAnalyticsConsent</label>
    </div>
    <div id="registration_div_27_{{id}}" class="grid-x grid-padding-x switch small switch-align">
      <input class="switch-input" type="checkbox" id="registration_input_27_{{id}}" name="digitalAnalyticsAnonymous" (change)="updateAnalyticsConsent()" [(ngModel)]="user.digitalAnalyticsAnonymous" #digitalAnalyticsAnonymous="ngModel"
             checked [disabled]="!user.digitalAnalytics"/>
      <label id="registration_label_271_{{id}}" class="shrink switch-paddle" for="registration_input_27_{{id}}">
        <span aria-hidden="true" class="switch-active switch-yes" [translate]="'PrivacyPolicyModal.yesLabel'"></span>
        <span aria-hidden="true" class="switch-inactive" [translate]="'PrivacyPolicyModal.noLabel'"></span>
      </label>
      <label class="auto cell yes-no-label" id="registration_label_27_{{id}}" for="registration_input_27_{{id}}" translate>Registration.DigitalAnalyticsAnonymous</label>
    </div>
    </fieldset>
    <br>
  </ng-container>
  <br>
  <button [disabled]="disableForm||csr&&csr.actingAs&&csr.actingAs.userName" class="button button-dark expanded " id="registration_button_25_{{id}}" type="submit" translate>Registration.Register</button>
  <br>
  </fieldset>
</form>